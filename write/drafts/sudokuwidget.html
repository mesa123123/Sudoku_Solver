<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Sudokuwidget</title>
  </head>
  <body>
    <style type="text/css" media="screen">
      svg rect {
        fill: none;
        stroke: black;
        stroke-width: 1px;
      }
      svg g.secondColumn {
        transform: translate(5%, 0%);
      }
      svg g.thirdColumn {
        transform: translate(10%, 0%);
      }
      svg g.secondRow {
        transform: translate(0%, 5%);
      }
      svg g.thirdRow {
        transform: translate(0%, 10%);
      }
    </style>
    <svg height="50vh" width="50vh">
      <g class="firstSquare">
        <g class="firstRow">
          <g class="firstColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
      <g class="firstSquare">
        <g class="firstRow">
          <g class="secondColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
      <g class="firstSquare">
        <g class="firstRow">
          <g class="thirdColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
      <g class="firstSquare">
        <g class="secondRow">
          <g class="firstColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
      <g class="firstSquare">
        <g class="secondRow">
          <g class="secondColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
      <g class="firstSquare">
        <g class="secondRow">
          <g class="thirdColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
      <g class="firstSquare">
        <g class="thirdRow">
          <g class="firstColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
      <g class="firstSquare">
        <g class="thirdRow">
          <g class="secondColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
      <g class="firstSquare">
        <g class="thirdRow">
          <g class="thirdColumn">
            <rect height="5%" width="5%" />
          </g>
        </g>
      </g>
    </svg>
    <script type="text/javascript">
      // for a rectangle class in the document, get all classes of parent gs
      const cells = document.getElementsByTagName("rect");
      // for a given cell get all parent elements until the tag is not g
      var myNode = cells.item(0).parentElement;
      var myParentClasses = new Array();
      while (myNode.nodeName == "g") {
        myParentClasses.push(myNode.classList[0]);
        myNode = myNode.parentElement;
      }
        var nodeWithSameClass = new Array()
      function changeCells() {
          myParentClasses.forEach(pClass => {
            nodeWithSameClass.push(Array.from(document.querySelectorAll("." + pClass)))
          })
          nodeWithSameClass = nodeWithSameClass.flat()
          nodeWithSameClass.forEach(node => { if(node.getElementsByTagName('rect') != null) { Array.from(node.getElementsByTagName('rect')).forEach(rect => {
                rect.style.fill = 'red'
              })   
          } 
          })
      }
    </script>
    <button onclick="changeCells()"/>
  </body>
</html>
